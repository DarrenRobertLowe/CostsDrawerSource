<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>10</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// create buttons and globals
/// SETUP PROGRAM

//window_set_max_width(800);
var w = 748;
var h = 664;//529;


global.defaultOpeningScreenWidth  = w; // needed for TIPS at startup
global.defaultOpeningScreenHeight = h; // needed for TIPS at startup


window_set_min_width(w);
window_set_max_width(w);
window_set_min_height(h);
window_set_max_height(h);
window_set_size(w,h);
display_set_gui_size(w,h);  // resize the gui layer to our window size


width  = room_width;
height = room_height;


alarm[0] = 1; // reposition the window. Must be done 1 step after screen is resized.

global.recentFilesScroll = 0;
templatesScroll = 0;
separation = global.rightColumnItemsSeparation;

global.fileToOpen = "";
global.TEMPLATE_TYPE_SELECTED = "highcourt";
instance_create(262,44,button_open_existing);
instance_create(262,120,button_restore_backup);


instance_create(500,55,button_create_new_circuit);
instance_create(650,55,button_create_new_highcourt);

instance_create(467,143,button_send_email_openingScreen);

instance_create(358,235,button_templates_highcourt);
instance_create(358,305,button_templates_circuit);
instance_create(334,400,button_youtube);

instance_create(715,495,button_resetWindowSettings_checkbox);
//instance_create(10,500,button_toggleTipOfTheDay_checkbox);

templatesx1 = x;
templatesx2 = x;


/*
var w = window_get_width();
var h = window_get_height();
x1 = (w/18);
y1 = ((h/2)-(h/14));
x2 = ((x1)+(w/2.5));
y2 = ((h)-(h/12));
*/


recentFilesTimerDefault = (room_speed*5);
recentFilesTimer = recentFilesTimerDefault;



/// WHAT'S NEW CLICKABLE AREA
whatsNewText        = ("What's new in ");
whatsNewTextX       = 15;
versionText         = ("v" + string(GM_version));
versionTextX        = (whatsNewTextX + string_width(whatsNewText));
verionTextY         = 150;
combinedText        = (whatsNewText + versionText);
whatsNewClickableW  = string_width(whatsNewText  + versionText)
whatsNewClickableH  = string_height(whatsNewText + versionText)
whatsNewClickableX1 = whatsNewTextX;
whatsNewClickableY1 = 10;
whatsNewClickableX2 = (whatsNewClickableX1 + whatsNewClickableW);
whatsNewClickableY2 = verionTextY;
rX1                 = whatsNewClickableX1-5;
rY1                 = whatsNewClickableY1-5;
rX2                 = whatsNewClickableX2+5;
rY2                 = whatsNewClickableY2+5;
rAlpha              = 1;
rAlphaSwitch        = 0;
rAlphaSpeed         = 0.05;

/// Search for templates
find_templates();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// CLEAN UP
if ds_exists(hcTemplatesList,ds_type_list) then ds_list_destroy(hcTemplatesList);
if ds_exists(ccTemplatesList,ds_type_list) then ds_list_destroy(ccTemplatesList);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// reset cursor sprite
window_set_cursor(cr_default);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// setup window

//show_message("Opening Screen Master is centering the window");

width  = room_width;
height = room_height;
window_set_size(width, height);
window_set_max_width(width);
window_set_max_height(height);
display_set_gui_size(width, height); // resize the gui layer to our window size
surface_resize(application_surface, width, height)


room_set_width(room, width);
room_set_height(room, height);


window_center();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw the text and logo
reset_text();




//draw_set_color(c_white);
//draw_rectangle(0,0,width,height,0);

/// draw the background gradient
maxChange = 20;                                       // how much is added to red and green by the end of the gradient

if (global.DISPLAY_TIPS == true)
  then height = global.tipsScreenHeight;
  else height = global.defaultOpeningScreenHeight;


for(var i=0; i&lt;height; i++)
{
    var add     = (maxChange / (height/i));
    var red     = (230 + add);
    var green   = (230 + add);
    var color   = make_color_rgb(red,green,230);
    
    draw_set_color(color);
    draw_line(0, i, width, i);
}




// YELLOW BOX AROUND LOGO WHEN UPDATE AVAILABLE
if (global.newVersionAvailable == true)
{
    // glow
    if (rAlphaSwitch == 0)
    {
        rAlpha -= rAlphaSpeed;
        if (rAlpha &lt;= 0) then rAlphaSwitch = 1;
    }
    
    if (rAlphaSwitch == 1)
    {
        rAlpha += rAlphaSpeed;
        if (rAlpha &gt;= 1) then rAlphaSwitch = 0;
    }
    draw_set_alpha(rAlpha);
    draw_set_color(c_yellow);
    draw_rectangle(rX1,     rY1,    rX2,    rY2,    true);
    draw_rectangle(rX1+1,   rY1+1,  rX2-1,  rY2-1,  true);
    draw_rectangle(rX1+2,   rY1+2,  rX2-2,  rY2-2,  true);
    draw_rectangle(rX1-1,   rY1-1,  rX2+1,  rY2+1,  true);
    draw_rectangle(rX1-2,   rY1-2,  rX2+2,  rY2+2,  true);
    
    draw_set_alpha(1);
}


// LOGO AND WHAT'S NEW IN VERSION
// mouse over
if  ( mouse_x &gt; whatsNewClickableX1 )
and ( mouse_y &gt; whatsNewClickableY1 )
and ( mouse_x &lt; whatsNewClickableX2 )
and ( mouse_y &lt; whatsNewClickableY2 )
{
    highlightButtonArea(whatsNewClickableX1,whatsNewClickableY1,whatsNewClickableX2,whatsNewClickableY2);
    
    draw_set_font(font_GUI);
    draw_set_color(c_blue);
    
    if (global.newVersionAvailable == true)
      then draw_text(whatsNewTextX, verionTextY, "  Download v" + global.latestVersionString)
      else draw_text(whatsNewTextX, verionTextY, combinedText);
    
    if ( mouse_check_button_pressed(mb_left) )
    {
        open_whats_new();
        
        if (global.newVersionAvailable == true)
          then url_open(global.UPDATE_LINK);
    }
}
else // mouse NOT over
{
    draw_set_color(c_blue);
    draw_set_font(font_GUI);
    
    if (global.newVersionAvailable == true)
      then draw_text(whatsNewTextX, verionTextY, "v"+string(global.latestVersionString) +" now available!")
      else draw_text(versionTextX, verionTextY, versionText);
}
draw_sprite(splash_small,0,10,10);







/// draw the area for the recent files...
// background
draw_set_font(font_GUI_bold); //because for some reason widths are based on the font
draw_set_color(c_white);
x1 = 5;     //(width/18);
y1 = 227;   //(height/2)-(height/14);
x2 = 305;   //(x1+(width/2.5));
y2 = 477;   //(height-52);
draw_rectangle(x1,y1,x2,y2,false);

// border
draw_set_color(global.scrollbarColorDark);
draw_rectangle(x1,y1,x2,y2,true);


/// draw the area for the templates...
// background
draw_set_color(c_white);
templatesx1 = 307;//(x2 + 2);
templatesx2 = 743;//(width - 5);
draw_rectangle(templatesx1,y1,templatesx2,y2,false);

// border
draw_set_color(global.scrollbarColorDark);
draw_rectangle(templatesx1,y1,templatesx2,y2,true);



// separator
var separator_xx = 432;//( templatesx1 +string_width("Circuit Court"));
draw_line( separator_xx, y1, separator_xx, y2 );
templatesContentX = (separator_xx + 5);

/// setup for text drawing
draw_set_color(c_black);
draw_set_valign(fa_middle);
draw_set_halign(fa_left);

//draw_set_font(font_GUI_bold);




// "Create a new blank..."
sprH = sprite_get_height(spr_circuit_icon);
sprW = sprite_get_width(spr_circuit_icon);
draw_text(button_create_new_circuit.x - sprW,(sprH*1.5)-20,"Create a new blank Bill...");


// "Create a bill from a Template..."
draw_text(templatesx1,y1-15,"Create a bill from a Template...");




// "Open a recent bill..."
draw_text(x1,y1-15,"Open recent...");

// create new....
draw_set_font(font_GUI_large);
// Highcourt Bill
draw_text(611,98,"High Court");
// Circuit Court Bill
draw_text(454,98,"Circuit Court");
// "Send a bill for review..."
draw_text(509,162,"Send a bill for review...");




// Recent Files
opening_screen_recent_files()


// Template Files
opening_screen_templates()


draw_set_font(font_GUI_large);
// Templates "High Court"
draw_text(318,295,"High Court");

// Templates "Circuit Court"
draw_text(310,365,"Circuit Court");







</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
