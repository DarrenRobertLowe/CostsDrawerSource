<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>CONSTANT_ITEM</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
ds_list_add(global.LAST_PAGE_ITEMS,id);

myID                = -2;   // don't care about myID
hasDate             = false;
countMyItemNumber   = 0;
lines               = 4;
italicsMultiplier   = 1;    // set to 1 for no italics multiplier
hasDescription      = false;
buttonRepeatTimer   = (global.buttonTimerDelay * room_speed);

description         = "";
shownDescription    = description;

formatDescription(descriptionList,description,false);
formatDescription(shownDescriptionList,shownDescription,false);



editingSolicitor    = false;
editingSenior       = false;
editingJunior       = false;


defaultSolicitorLine= "Solicitors V.A.T No";
headerText          = "VAT number of counsel...";
defaultSeniorLine   = "Senior counsel V.A.T No.";
defaultJuniorLine   = "Junior counsel V.A.T No.";

solicitorLine   = defaultSolicitorLine;
seniorLine      = defaultSeniorLine;
juniorLine      = defaultJuniorLine;

solicitorVATNo  = "";
seniorVATNo     = "";
juniorVATNo     = "";

row = (lastPage_Address.row + lastPage_Address.lines) +3;

xlsx_styleID = 7;//9;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Enter and Draw Data
if (in_view())
{
    // setup the text
    var rowHeight = global.rowHeight;
    reset_text();
    draw_set_font_scaled(font_Times11);
    
    
    
    ////// DRAW THE LINES /////
    textPosX = (global.descriptionColumnX + global.textMargin);
    var textPosY = getYFromRow(row+1);                              // +1 because text is drawn from bottom up and getYFromRow returns row -1. Don't know why, but it seems to be needed.
    
    
    
    // solicitor's own VAT no.
    solicitorLine = "V.A.T No. ";
    
    draw_set_color(global.itemTextColor);
    draw_text(textPosX,textPosY,solicitorLine);
    
    if (solicitorVATNo == "")
    {
        if (editingSolicitor == false)
        {
            draw_set_font_scaled(font_Times11);
            draw_set_color(global.errorText);
            if (global.PRINT_VIEW == false) then draw_text(textPosX+string_width(solicitorLine),textPosY," Enter Number");
        }
    }
    if (solicitorVATNo != "")
    {
        if (editingSolicitor == false)
        {
            draw_set_font_scaled(font_Times11);
            draw_text(textPosX+string_width(solicitorLine),textPosY,solicitorVATNo);
        }
    }
    
    
    
    // line 2 "V.A.T number of counsel..,"
    draw_set_font_scaled(font_Times11);
    draw_set_color(global.itemTextColor);
    draw_text(textPosX,textPosY + (rowHeight),headerText);
    
    
    
    
    
    // line 3 Senior Counsel
    draw_set_color(global.itemTextColor);
    seniorLine = string(global.SENIOR_COUNSEL);
    
    if  (global.SENIOR_COUNSEL = "")                                                    // if there is NO counsel name
      then draw_text(textPosX,textPosY + (rowHeight*2),defaultSeniorLine);
    
    if  (global.SENIOR_COUNSEL != "")                                                   // if there IS a counsel name...
    {
        if (seniorVATNo = "")                                                           // but there is NO VAT number
        {
            draw_set_color(global.itemTextColor);
            draw_set_font_scaled(font_Times11);
            draw_text(textPosX,textPosY + (rowHeight*2), seniorLine);
            
            if (global.PRINT_VIEW == false)
            {
                if (editingSenior = false)
                {
                    draw_set_color(global.errorText);
                    draw_text(textPosX + string_width(seniorLine),textPosY + (rowHeight*2), " Add VAT no.");
                }
                
                if  (editingSenior = false) seniorLine += string(" Add VAT no.");
            }
        }
        
        else                                                                            // there is a VAT number
        {
            if (editingSenior = false) then seniorLine = string(global.SENIOR_COUNSEL) +" " +string(seniorVATNo);
            if (editingSenior = true)  then seniorLine = string(global.SENIOR_COUNSEL);
            
            draw_set_color(global.itemTextColor);
            draw_set_font_scaled(font_Times11);
            draw_text(textPosX,textPosY + (rowHeight*2), seniorLine);
        }
    }
    

    
    // line 4 Junior Counsel
    draw_set_color(global.itemTextColor);
    juniorLine = string(global.JUNIOR_COUNSEL);
    
    if  (global.JUNIOR_COUNSEL = "")                                                    // if there is NO counsel name
      then draw_text(textPosX,textPosY + (rowHeight*3),defaultJuniorLine);
    
    if  (global.JUNIOR_COUNSEL != "")                                                   // if there IS a counsel name...
    {
        if (juniorVATNo = "")                                                           // but there is NO VAT number
        {
            draw_set_color(global.itemTextColor);
            draw_set_font_scaled(font_Times11);
            draw_text(textPosX,textPosY + (rowHeight*3), juniorLine);
            
            if (global.PRINT_VIEW == false)
            {
                if (editingJunior = false)
                {
                    draw_set_color(global.errorText);
                    draw_text(textPosX + string_width(juniorLine),textPosY + (rowHeight*3), " Add VAT no.");
                }
                
                if  (editingJunior = false) juniorLine += string(" Add VAT no.");
            }
        }
        
        else                                                                            // there is a VAT number
        {
            if (editingJunior = false) then juniorLine = string(global.JUNIOR_COUNSEL) +" " +string(juniorVATNo);
            if (editingJunior = true)  then juniorLine = string(global.JUNIOR_COUNSEL);
            
            draw_set_color(global.itemTextColor);
            draw_set_font_scaled(font_Times11);
            draw_text(textPosX,textPosY + (rowHeight*3), juniorLine);
        }
    }
    
    
    
    // MOUSE OVER CHECKS
    if !(mouseOverDocument()) then exit;
    
    /// check for mouseOver()
    if mouseOverVAT(1)
    {
        drawBorder("VATNumbersLine1");
        // LEFT CLICK
        if mouse_check_button_released(mb_left)
        {
            global.selected  = id;
            selectedField    = "solicitorVATNo";
            vatNumber        = solicitorVATNo;
            cursorPosition   = string_length(vatNumber)+1;
            if (vatNumber    = defaultSolicitorLine) then vatNumber = "";
            editingSolicitor = true;
            editingSenior    = false;
            editingJunior    = false;
       }
    }
    
    
    
    if  ( mouseOverVAT(3))                 // line 3
    and (global.SENIOR_COUNSEL != "")
    {
        drawBorder("VATNumbersLine3");
        // LEFT CLICK
        if mouse_check_button_released(mb_left)
        {
            global.selected  = id;
            selectedField    = "seniorVATNo";
            vatNumber        = seniorVATNo;
            cursorPosition   = string_length(vatNumber)+1;
            if (vatNumber    = defaultSeniorLine) then vatNumber = "";
            editingSolicitor = false;
            editingSenior    = true;
            editingJunior    = false;
       }
    }
    
    
    
    if  ( mouseOverVAT(4) )
    and (global.JUNIOR_COUNSEL != "")
    {
        drawBorder("VATNumbersLine4");
        // LEFT CLICK
        if mouse_check_button_released(mb_left)
        {
            global.selected  = id;
            selectedField    = "juniorVATNo";
            vatNumber        = juniorVATNo;
            cursorPosition   = string_length(vatNumber)+1;
            if (vatNumber    = defaultJuniorLine) then vatNumber = "";
            editingSolicitor = false;
            editingSenior    = false;
            editingJunior    = true;
       }
    }
    
    
    
    /// EDITING...
    if (global.selected == id)
    {
        keyboard_CURSOR.field = 0;  // for highlighting correct row
        
        if (editingSolicitor == true)
        or (editingSenior == true)
        or (editingJunior == true)
        {
            drawBorder(selectedField);
            
            draw_set_halign(fa_left);
            draw_set_alpha(1);
            //draw_set_font_scaled(font_Times11);
            
            
            /// WHERE THE MAGIC HAPPENS..
            if (selectedField = "solicitorVATNo") then cursorPosY = textPosY;
            if (selectedField = "seniorVATNo")    then cursorPosY = (textPosY + (rowHeight*2));
            if (selectedField = "juniorVATNo")    then cursorPosY = (textPosY + (rowHeight*3));
            
            
            if (selectedField = "solicitorVATNo") then textPosX += (string_width(solicitorLine));
            if (selectedField = "seniorVATNo")    then textPosX += (string_width(seniorLine));
            if (selectedField = "juniorVATNo")    then textPosX += (string_width(juniorLine));
            
            vatNumber = user_text_input(vatNumber,textPosX,cursorPosY,false);
            
            draw_set_font_scaled(font_Times11);
            draw_text(textPosX,cursorPosY,vatNumber);
            
            
            
            // CONFIRM AND STOP EDITING //
            if ( confirmed() )
            {
                if (selectedField = "solicitorVATNo") then solicitorVATNo   = vatNumber;
                if (selectedField = "seniorVATNo")    then seniorVATNo      = vatNumber;
                if (selectedField = "juniorVATNo")    then juniorVATNo      = vatNumber;
                           
                editingSolicitor = false;
                editingSenior    = false;
                editingJunior    = false;
                set_unsaved();
                global.SHOW_WARNINGS = true;
                global.selected = -1;
                exit;
            }
        }
    }
    
    
    
    reset_text();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
